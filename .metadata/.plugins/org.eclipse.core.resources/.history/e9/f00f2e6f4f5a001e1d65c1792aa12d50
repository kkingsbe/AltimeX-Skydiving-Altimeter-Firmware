/*
 * altimex_eeprom.cpp
 *
 *  Created on: Sep 23, 2023
 *      Author: kking
 */

#include "altimex_eeprom.h"

AltimexEeprom::AltimexEeprom(uint16_t _address, I2C_HandleTypeDef* _i2cx):
	storage(new EepromStorage(_address, _i2cx))
{

}

void AltimexEeprom::save_configuration(AltimexConfig* config)
{
	storage->write_from(AltimexEeprom::offsets::CONFIGURATION, sizeof(AltimexConfig), config
}

void AltimexEeprom::load_configuration(AltimexConfig* config)
{
	storage->read(AltimexEeprom::offsets::CONFIGURATION, sizeof(AltimexConfig), config);
}
